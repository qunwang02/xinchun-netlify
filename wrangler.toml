name = "fosheng"
main = "worker.js"
compatibility_date = "2024-10-01"
workers_dev = true
compatibility_flags = ["nodejs_compat"]

# 环境变量（通过Cloudflare Dashboard设置）
[vars]
DATABASE_NAME = "donation_system"
COLLECTION_NAME = "donations"
ADMIN_PASSWORD = "your-admin-password" # 生产环境请在Cloudflare Dashboard中设置
MONGODB_URI = "mongodb+srv://your-username:your-password@your-cluster.mongodb.net/?appName=your-app-name" # 生产环境请在Cloudflare Dashboard中设置



# 开发环境
[env.development]
workers_dev = true
name = "fosheng-dev"

# 生产环境
[env.production]
workers_dev = false
name = "fosheng-prod"

# 内存和CPU限制（免费计划不支持，已注释）
# [limits]
# cpu_ms = 10000
# memory_mib = 128

# 触发器和cron（可选）
crons = ["0 * * * *"]  # 每小时执行一次

# 日志设置
logpush = true

# KV命名空间（如果需要）
# [[kv_namespaces]]
# binding = "DONATIONS_CACHE"
# id = "your-kv-namespace-id"